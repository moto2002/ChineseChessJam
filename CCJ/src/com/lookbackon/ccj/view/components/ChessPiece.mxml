<?xml version="1.0" encoding="utf-8"?>
<s:Button xmlns:fx="http://ns.adobe.com/mxml/2009" 
		  xmlns:s="library://ns.adobe.com/flex/spark" 
		  xmlns:mx="library://ns.adobe.com/flex/halo"
		  width="50" height="50" cornerRadius="25"
		  implements="com.lookbackon.ccj.view.components.IChessPiece" 
		  creationComplete="button1_creationCompleteHandler(event)" >
	<fx:Script>
		<![CDATA[
			import com.lookbackon.ccj.business.fsm.ChessAgent;
			
			import mx.core.IUIComponent;
			import mx.events.FlexEvent;
			import mx.managers.DragManager;
			//--------------------------------------------------------------------------
			//
			//  Variables
			//
			//--------------------------------------------------------------------------
			//----------------------------------
			//  CONSTANTS
			//----------------------------------
			//--------------------------------------------------------------------------
			//
			//  Properties(implementataion)
			//
			//--------------------------------------------------------------------------
			//----------------------------------
			//  agent
			//----------------------------------
			private var _agent:ChessAgent;
			public function get agent():ChessAgent
			{
				return _agent;
			}
			public function set agent(value:ChessAgent):void
			{
				_agent = value;
			}
			//--------------------------------------------------------------------------
			//
			//  Methods
			//
			//--------------------------------------------------------------------------
			protected function button1_creationCompleteHandler(event:FlexEvent):void
			{
				// TODO Auto-generated method stub
				this.agent = new ChessAgent(this.name,this,null);
				// add event listener
				this.addEventListener(MouseEvent.MOUSE_DOWN,mouseDownHandler);
			}
			
			private function mouseDownHandler(event:MouseEvent):void
			{
				DragManager.doDrag(event.currentTarget as IUIComponent,null,event);
			}
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
</s:Button>
